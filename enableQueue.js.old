global.EnableQueue = function() {
	Log("Custom EnableQueue");
	bot.roomInfo(function(data) {
		var listenerCount = data.room.metadata.listeners;

		if (listenerCount <= level1Threshold) {
			/* Disable the Queue */
			if (queueActive && useQueue) {
				queueActive = false;
				Speak(msgQueueDisabled);
				Log("Queue off");
			}
			/* Set the play count */
			if (djMaxPlays != level1DjMaxPlays){
				djMaxPlays = level1DjMaxPlays;
				Log("djMaxPlay: " + djMaxPlays);
				Speak(msgMaxPlays.replace(/\{maxplays\}/gi,djMaxPlays));
			}
			
		} else if (listenerCount <= level2Threshold && listenerCount > level1Threshold) {
			/* Enable the Queue */
			if (!queueActive && useQueue) {
				queueActive = true;
				Speak(msgQueueEnabled);
				Log("Queue activated");
			}
			/* Set the play count */
			if (djMaxPlays != level2DjMaxPlays){
				djMaxPlays = level2DjMaxPlays;
				Log("djMaxPlay: " + djMaxPlays);
				Speak(msgMaxPlays.replace(/\{maxplays\}/gi,djMaxPlays));
			}
			
		} else if (listenerCount <= level3Threshold && listenerCount > level2Threshold) {
			/* Enable the Queue */
			if (!queueActive && useQueue) {
				queueActive = true;
				Speak(msgQueueEnabled);
				Log("Queue activated");
			}
			/* Set the play count */
			if (djMaxPlays != level3DjMaxPlays){
				djMaxPlays = level3DjMaxPlays;
				Log("djMaxPlay: " + djMaxPlays);
				Speak(msgMaxPlays.replace(/\{maxplays\}/gi,djMaxPlays));
			}
			
		}
	});
};